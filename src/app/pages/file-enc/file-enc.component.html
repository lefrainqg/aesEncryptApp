<div class="grid">


    <div class="col-12 md:col-3 grid"></div>
    <div class="col-12 md:col-6 grid">


        <div class="col-12 grid m-0 p-0" *ngIf="!encrypted">
            <div class="col-12 mt-2">
                <p-fileUpload mode="basic" name="file" accept=".txt" (onSelect)="onUpload($event)"
                    chooseLabel="Seleccione" p-fileupload-buttonbar>
                </p-fileUpload>
                <div class="text-primary font-medium">Seleccione el archivo (Solo se permite arhivos de .txt)</div>
            </div>
            <div class="col-12 grid mt-2" *ngIf="msgEmisor.txtMensaje!=''">
                <textarea pInputTextarea [(ngModel)]="msgEmisor.txtMensaje" class="col-12" style="height: 230px;"
                    [autoResize]="true" [disabled]="true"></textarea>
            </div>
            <div class="col-12">
                <div class="field m-0 p-0">
                    <label for="pswr">Clave</label>
                    <input pInputText [(ngModel)]="msgEmisor.txtKey" id="pswr" type="text" class="inputfield w-full">
                    <small id="pswr-help">Ingrese la clave de cifrar el contenido del documento al enviar</small>
                </div>
            </div>
            <div class="col-12 text-right">
                <button pButton type="button" (click)="cifrarEnviarMsg()" label="CIFRAR Y ENVIAR MENSAJE"></button>
            </div>
        </div>
        <div class="col-12 grid m-0 p-0" *ngIf="encrypted && !msgReceptor.blnExito">
            <div class="col-12">
                <h3 class="font-italic">Usted ha recibido un mensaje. Ingrese la clave y luego presiona el bot√≥n para
                    obtener</h3>
            </div>
            <div class="col-12 align-self-center">
                <div class="field m-0 p-0">
                    <label for="pswr">Clave</label>
                    <input pInputText [(ngModel)]="msgReceptor.txtKey" id="pswr" type="text" class="inputfield w-full">
                    <small id="pswr-help">Ingrese la clave de cifrado</small>
                </div>
            </div>
            <div class="col-12 text-right align-self-center">
                <button pButton type="button" (click)="decifrarVerMsg()" label="DECIFRAR MENSAJE"></button>
            </div>
        </div>
        <div class="col-12 grid m-0 p-0" *ngIf="encrypted && msgReceptor.blnExito">
            <div class="col-12">
                <h3 class="font-italic">Mensaje recibido:</h3>
            </div>
            <div class="col-12">
                <p-messages severity="success">
                    <ng-template pTemplate>
                        <div class="p-ml-2">{{msgReceptor.txtMensaje}}</div>
                    </ng-template>
                </p-messages>
            </div>
            <div class="col-12 text-right">
                <button pButton type="button p-button-outlined" (click)="reset()" label="ACEPTAR"></button>
            </div>
        </div>
    </div>
    <div class="col-12 md:col-3 grid"></div>
</div>

<p-toast></p-toast>